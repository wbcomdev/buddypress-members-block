(()=>{"use strict";var e,r={467:(e,r,s)=>{const l=window.wp.blocks,o=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,i=window.wp.element,t=window.wp.apiFetch;var d=s.n(t);const b=window.ReactJSXRuntime,m=JSON.parse('{"UU":"wbcom-block/buddypress-members-block"}');(0,l.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:r}){const{title:s,sortType:l,viewType:t,limit:m,avatarSize:c,avatarRadius:p,membersPerRow:u,rowSpacing:v,columnSpacing:_,carouselSpacing:x}=e,y=(0,a.useBlockProps)(),[h,g]=(0,i.useState)([]),[w,k]=(0,i.useState)(!0),[j,f]=(0,i.useState)(null);return(0,i.useEffect)((()=>{k(!0),f(null);let e=`/buddypress/v1/members?per_page=${m}`;"active"===l?e+="&type=active":"popular"===l?e+="&type=popular":"newest"===l&&(e+="&type=newest"),d()({path:e}).then((e=>{g(e),k(!1)})).catch((e=>{f((0,o.__)("Failed to load members","buddypress-members-block")),k(!1)}))}),[l,m]),(0,b.jsxs)("div",{...y,children:[(0,b.jsxs)(a.InspectorControls,{children:[(0,b.jsx)(n.PanelBody,{title:(0,o.__)("Block Title","buddypress-members-block"),children:(0,b.jsx)(n.TextControl,{label:(0,o.__)("Block Title","buddypress-members-block"),value:s,onChange:e=>r({title:e})})}),(0,b.jsxs)(n.PanelBody,{title:(0,o.__)("Member Sorting","buddypress-members-block"),children:[(0,b.jsx)(n.SelectControl,{label:(0,o.__)("Sort By","buddypress-members-block"),value:l,options:[{label:(0,o.__)("Recently Active","buddypress-members-block"),value:"active"},{label:(0,o.__)("Popular","buddypress-members-block"),value:"popular"},{label:(0,o.__)("Newest","buddypress-members-block"),value:"newest"}],onChange:e=>r({sortType:e})}),(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Number of Members","buddypress-members-block"),value:m,onChange:e=>r({limit:e}),min:1,max:20})]}),(0,b.jsx)(n.PanelBody,{title:(0,o.__)("Layout View","buddypress-members-block"),children:(0,b.jsxs)(n.ButtonGroup,{children:[(0,b.jsx)(n.Button,{isPressed:"list"===t,onClick:()=>r({viewType:"list"}),children:(0,o.__)("List","buddypress-members-block")}),(0,b.jsx)(n.Button,{isPressed:"grid"===t,onClick:()=>r({viewType:"grid"}),children:(0,o.__)("Grid","buddypress-members-block")})]})}),"grid"===t&&(0,b.jsx)(n.PanelBody,{title:(0,o.__)("Members Per Row","buddypress-members-block"),children:(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Number of Members","buddypress-members-block"),value:u,onChange:e=>r({membersPerRow:e}),min:1,max:5})}),"list"===t&&(0,b.jsx)(n.PanelBody,{title:(0,o.__)("Row Spacing","buddypress-members-block"),children:(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Row Spacing (px)","buddypress-members-block"),value:v,onChange:e=>r({rowSpacing:e}),min:0,max:50})}),("grid"===t||"carousel"===t)&&(0,b.jsxs)(n.PanelBody,{title:(0,o.__)("Spacing","buddypress-members-block"),children:["grid"===t&&(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Column Spacing (px)","buddypress-members-block"),value:_,onChange:e=>r({columnSpacing:e}),min:0,max:50}),"carousel"===t&&(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Column Spacing (px)","buddypress-members-block"),value:x,onChange:e=>r({carouselSpacing:e}),min:0,max:50})]}),(0,b.jsxs)(n.PanelBody,{title:(0,o.__)("Avatar Size","buddypress-members-block"),children:[(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Avatar Size (px)","buddypress-members-block"),value:c,onChange:e=>r({avatarSize:e}),min:50,max:300}),(0,b.jsx)(n.RangeControl,{label:(0,o.__)("Avatar Border Radius (px)","buddypress-members-block"),value:p,onChange:e=>r({avatarRadius:e}),min:0,max:100})]})]}),s&&(0,b.jsx)("h2",{children:s}),(0,b.jsx)("div",{className:`bp-members-preview ${t}`,style:{"--row-spacing":"list"===t?`${v}px`:void 0,"--column-spacing":"grid"===t?`${_}px`:void 0,"--members-per-row":"grid"===t?u:void 0},children:w?(0,b.jsx)(n.Spinner,{}):j?(0,b.jsx)("div",{children:j}):0===h.length?(0,b.jsx)("div",{children:(0,o.__)("No members found","buddypress-members-block")}):h.map((e=>(0,b.jsxs)("div",{className:"bp-member-item",children:[(0,b.jsx)("a",{href:e.link,children:(0,b.jsx)("img",{src:e.avatar_urls.full,alt:e.name,className:"bp-member-avatar",style:{width:`${c}px`,height:`${c}px`,borderRadius:`${p}px`}})}),(0,b.jsx)("a",{href:e.link,children:(0,b.jsx)("div",{className:"bp-member-name",children:e.name})})]},e.id)))})]})}})}},s={};function l(e){var o=s[e];if(void 0!==o)return o.exports;var a=s[e]={exports:{}};return r[e](a,a.exports,l),a.exports}l.m=r,e=[],l.O=(r,s,o,a)=>{if(!s){var n=1/0;for(b=0;b<e.length;b++){s=e[b][0],o=e[b][1],a=e[b][2];for(var i=!0,t=0;t<s.length;t++)(!1&a||n>=a)&&Object.keys(l.O).every((e=>l.O[e](s[t])))?s.splice(t--,1):(i=!1,a<n&&(n=a));if(i){e.splice(b--,1);var d=o();void 0!==d&&(r=d)}}return r}a=a||0;for(var b=e.length;b>0&&e[b-1][2]>a;b--)e[b]=e[b-1];e[b]=[s,o,a]},l.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return l.d(r,{a:r}),r},l.d=(e,r)=>{for(var s in r)l.o(r,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},l.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};l.O.j=r=>0===e[r];var r=(r,s)=>{var o,a,n=s[0],i=s[1],t=s[2],d=0;if(n.some((r=>0!==e[r]))){for(o in i)l.o(i,o)&&(l.m[o]=i[o]);if(t)var b=t(l)}for(r&&r(s);d<n.length;d++)a=n[d],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(b)},s=self.webpackChunkbuddypress_members_block=self.webpackChunkbuddypress_members_block||[];s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s))})();var o=l.O(void 0,[350],(()=>l(467)));o=l.O(o)})();
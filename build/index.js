(()=>{"use strict";var e,s={467:(e,s,r)=>{const l=window.wp.blocks,a=window.wp.i18n,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.element,i=window.wp.apiFetch;var d=r.n(i);const b=window.ReactJSXRuntime,c=JSON.parse('{"UU":"wbcom-block/buddypress-members-block"}');(0,l.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:s}){const{title:r,sortType:l,viewType:i,limit:c,avatarSize:p,avatarRadius:m,rowSpacing:u,columnSpacing:v,carouselSpacing:h}=e,y=(0,t.useBlockProps)(),[_,x]=(0,n.useState)([]),[w,k]=(0,n.useState)(!0),[j,g]=(0,n.useState)(null);return(0,n.useEffect)((()=>{k(!0),g(null);let e=`/buddypress/v1/members?per_page=${c}`;"active"===l?e+="&type=active":"popular"===l?e+="&type=popular":"newest"===l&&(e+="&type=newest"),d()({path:e}).then((e=>{x(e),k(!1)})).catch((e=>{g((0,a.__)("Failed to load members","buddypress-members-block")),k(!1)}))}),[l,c]),(0,b.jsxs)("div",{...y,children:[(0,b.jsxs)(t.InspectorControls,{children:[(0,b.jsx)(o.PanelBody,{title:(0,a.__)("Block Title","buddypress-members-block"),children:(0,b.jsx)(o.TextControl,{label:(0,a.__)("Block Title","buddypress-members-block"),value:r,onChange:e=>s({title:e})})}),(0,b.jsxs)(o.PanelBody,{title:(0,a.__)("Member Sorting","buddypress-members-block"),children:[(0,b.jsx)(o.SelectControl,{label:(0,a.__)("Sort By","buddypress-members-block"),value:l,options:[{label:(0,a.__)("Recently Active","buddypress-members-block"),value:"active"},{label:(0,a.__)("Popular","buddypress-members-block"),value:"popular"},{label:(0,a.__)("Newest","buddypress-members-block"),value:"newest"}],onChange:e=>s({sortType:e})}),(0,b.jsx)(o.RangeControl,{label:(0,a.__)("Number of Members","buddypress-members-block"),value:c,onChange:e=>s({limit:e}),min:1,max:20})]}),(0,b.jsx)(o.PanelBody,{title:(0,a.__)("Layout View","buddypress-members-block"),children:(0,b.jsx)(o.ButtonGroup,{children:(0,b.jsx)(o.Button,{isPressed:"list"===i,onClick:()=>s({viewType:"list"}),children:(0,a.__)("List","buddypress-members-block")})})}),"list"===i&&(0,b.jsx)(o.PanelBody,{title:(0,a.__)("Row Spacing","buddypress-members-block"),children:(0,b.jsx)(o.RangeControl,{label:(0,a.__)("Row Spacing (px)","buddypress-members-block"),value:u,onChange:e=>s({rowSpacing:e}),min:0,max:50})}),(0,b.jsxs)(o.PanelBody,{title:(0,a.__)("Avatar Size","buddypress-members-block"),children:[(0,b.jsx)(o.RangeControl,{label:(0,a.__)("Avatar Size (px)","buddypress-members-block"),value:p,onChange:e=>s({avatarSize:e}),min:50,max:300}),(0,b.jsx)(o.RangeControl,{label:(0,a.__)("Avatar Border Radius (px)","buddypress-members-block"),value:m,onChange:e=>s({avatarRadius:e}),min:0,max:100})]})]}),r&&(0,b.jsx)("h2",{children:r}),(0,b.jsx)("div",{className:`bp-members-preview ${i}`,style:{"--row-spacing":"list"===i?`${u}px`:void 0},children:w?(0,b.jsx)(o.Spinner,{}):j?(0,b.jsx)("div",{children:j}):0===_.length?(0,b.jsx)("div",{children:(0,a.__)("No members found","buddypress-members-block")}):_.map((e=>(0,b.jsxs)("div",{className:"bp-member-item",children:[(0,b.jsx)("a",{href:e.link,children:(0,b.jsx)("img",{src:e.avatar_urls.full,alt:e.name,className:"bp-member-avatar",style:{width:`${p}px`,height:`${p}px`,borderRadius:`${m}px`}})}),(0,b.jsx)("a",{href:e.link,children:(0,b.jsx)("div",{className:"bp-member-name",children:e.name})})]},e.id)))})]})}})}},r={};function l(e){var a=r[e];if(void 0!==a)return a.exports;var t=r[e]={exports:{}};return s[e](t,t.exports,l),t.exports}l.m=s,e=[],l.O=(s,r,a,t)=>{if(!r){var o=1/0;for(b=0;b<e.length;b++){r=e[b][0],a=e[b][1],t=e[b][2];for(var n=!0,i=0;i<r.length;i++)(!1&t||o>=t)&&Object.keys(l.O).every((e=>l.O[e](r[i])))?r.splice(i--,1):(n=!1,t<o&&(o=t));if(n){e.splice(b--,1);var d=a();void 0!==d&&(s=d)}}return s}t=t||0;for(var b=e.length;b>0&&e[b-1][2]>t;b--)e[b]=e[b-1];e[b]=[r,a,t]},l.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return l.d(s,{a:s}),s},l.d=(e,s)=>{for(var r in s)l.o(s,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},l.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,350:0};l.O.j=s=>0===e[s];var s=(s,r)=>{var a,t,o=r[0],n=r[1],i=r[2],d=0;if(o.some((s=>0!==e[s]))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(i)var b=i(l)}for(s&&s(r);d<o.length;d++)t=o[d],l.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return l.O(b)},r=self.webpackChunkbuddypress_members_block=self.webpackChunkbuddypress_members_block||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))})();var a=l.O(void 0,[350],(()=>l(467)));a=l.O(a)})();